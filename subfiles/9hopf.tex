\documentclass[../main.tex]{subfiles}

\begin{document}

We will freely use the results of \Cref{graded_stuff} in this section. In what follows, fix an $A$-graded ring $R$. Further suppose that for all $a,b\in A$, there exists units $\theta_{a,b}\in R_0$ such that:\begin{itemize}
	\item For all $a\in A$, $\theta_{a,0}=\theta_{0,a}=1$,
 	\item For all $a,b\in A$, $\theta_{a,b}^{-1}=\theta_{b,a}$,
  	\item For all $a,b,c\in A$, $\theta_{a,b}\cdot\theta_{a,c}=\theta_{a,b+c}$ and $\theta_{b,a}\cdot\theta_{c,a}=\theta_{b+c,a}$. %https://q.uiver.app/#q=WzAsMjgsWzAsMCwiUyJdLFsxLDAsIlNeey1hLWN9U157YStjfSJdLFsyLDAsIlNeey1hLWN9U15hIFNeYyJdLFszLDAsIlNeey1hLWN9U15jU15hIl0sWzQsMCwiU157LWEtY31TXnthK2N9Il0sWzQsMSwiUyJdLFs0LDIsIlNeey1hLWJ9U157YStifSJdLFs0LDMsIlNeey1hLWJ9U15hU15iIl0sWzQsNCwiU157LWEtYn1TXmJTXmEiXSxbNCw3LCJTXnstYS1ifVNee2ErYn0iXSxbMCwzLCJTXnstYS1iLWN9U157YX1TXntiK2N9Il0sWzAsNCwiU157LWEtYi1jfVNee2IrY31TXmEiXSxbMCwyLCJTXnstYS1iLWN9U157YStiK2N9Il0sWzEsMSwiU157LWF9U157LWN9U157YS1ifVNeYlNeYyJdLFsxLDIsIlNeey1hfVNeey1jfVNeey1ifVNeYVNeYlNeYyJdLFsxLDMsIlNeey1hLWN9U157LWJ9U15hU157Yn1TXmMiXSxbMSw0LCJTXnstYS1jfVNeey1ifVNee2J9U15jU15hIl0sWzIsMSwiU157LWF9U157LWN9U15jU157YS1ifVNeYiJdLFsyLDIsIlNeey1hfVNeey1jfVNeY1Neey1ifVNee2F9U15iIl0sWzIsMywiU157LWEtY31TXmNTXnstYn1TXmFTXmIiXSxbMyw0LCJTXnstYS1jfVNee2MtYn1TXmJTXmEiXSxbMywzLCJTXnstYS1jfVNee2MtYn1TXmFTXmIiXSxbMiw3LCJTIl0sWzAsNywiU157LWEtYi1jfVNee2ErYitjfSJdLFsyLDQsIlNeey1hLWN9U15jU157LWJ9U15iU15hIl0sWzEsNiwiU157LWEtY31TU15jU15hIl0sWzIsNSwiU157LWEtY31TXmNTU15hIl0sWzMsNiwiU157LWEtY31TXmNTXmEiXSxbMCwxLCJcXHBoaV97LWEtYyxhK2N9Il0sWzEsMiwiU157LWEtY31cXHBoaV97YSxjfSJdLFsyLDMsIlNeey1hLWN9XFx0YXUiXSxbMyw0LCJTXnthLWN9XFxwaGleey0xfV97YyxhfSJdLFs0LDUsIlxccGhpXnstMX1fey1hLWMsYStjfSJdLFs1LDYsIlxccGhpX3stYS1iLGErYn0iXSxbNiw3LCJTXnstYS1ifVxccGhpX3thLGJ9Il0sWzcsOCwiU157LWEtYn1cXHRhdV97U15hLFNeYn0iXSxbOCw5LCJTXnstYS1ifVxccGhpXnstMX1fe2IsYX0iXSxbMTAsMTEsIlNeey1hLWItY31cXHRhdV97YSxiK2N9IiwyXSxbMCwxMiwiXFxwaGlfey1hLWItYyxhK2IrY30iLDJdLFsxMiwxMCwiU157LWEtYi1jfVxccGhpX3thLGIrY30iLDJdLFsyLDEzLCJcXHBoaV97LWEsLWN9XFxwaGlfe2EtYixifVNeYyIsMV0sWzEzLDE0LCJTXnstYX1TXnstY31cXHBoaV97LWIsYX1TXmJTXmMiLDJdLFsxMCwxNSwiXFxwaGlfey1hLWMsLWJ9U15hXFxwaGlfe2IsY30iLDJdLFsxNSwxNCwiXFxwaGlfey1hLC1jfVNeey1ifVNeYVNeYlNeYyIsMV0sWzExLDE2LCJcXHBoaV97LWEtYywtYn1cXHBoaV97YixjfVNeYSIsMl0sWzE2LDE1LCJTXnstYS1jfVNeey1ifVxcdGF1X3tTXmJTXmMsU15hfSIsMV0sWzMsMTcsIlxccGhpX3stYS1jfVNeY1xccGhpX3thLWIsYn0iLDFdLFsxMywxNywiU157LWF9U157LWN9XFx0YXVfe1Nee2EtYn1TXmIsU15jfSIsMl0sWzE3LDE4LCJTXnstYX1TXnstY31TXmNcXHBoaV97LWIsYX1TXmIiXSxbMTQsMTgsIlNeey1hfVNeey1jfVxcdGF1X3tTXnstYn1TXmFTXmIsU15jfSJdLFsxNSwxOSwiU157LWEtY31cXHRhdV97U157LWJ9U15hU15iLFNeY30iLDJdLFsxOSwxOCwiXFxwaGlfey1hLC1jfVNeY1Neey1ifVNeYVNeYiIsMV0sWzgsMjAsIlxccGhpX3stYS1jLGMtYn1TXmJTXmEiXSxbNywyMSwiXFxwaGlfey1hLWMsYy1ifVNeYVNeYiIsMl0sWzIxLDIwLCJTXnstYS1jfVNee2MtYn1cXHRhdSJdLFsyMSwxOSwiU157LWEtY31cXHBoaV97YywtYn1TXmFTXmIiLDJdLFs5LDIyLCJcXHBoaV97LWEtYixhK2J9XnstMX0iXSxbMTEsMjMsIlNeey1hLWItY31cXHBoaV97YitjLGF9XnstMX0iLDJdLFsxNiwyNCwiU157LWEtY31cXHRhdV97U157LWJ9U157Yn0sU15jfSIsMl0sWzE5LDI0LCJTXnstYS1jfVNeY1Neey1ifVxcdGF1IiwxXSxbMjAsMjQsIlNeey1hLWN9XFxwaGlfe2MsLWJ9U15iU15hIiwyXSxbMjUsMTYsIlNeey1hLWN9XFxwaGlfey1iLGJ9U15jU15hIl0sWzI1LDI2LCJTXnstYS1jfVxcdGF1X3tTLFNeY31TXmEiLDFdLFsyMywyMiwiXFxwaGlfey1hLWItYyxhK2IrY31eey0xfSIsMl0sWzI2LDI0LCJTXnstYS1jfVNeY1xccGhpX3stYixifVNeYSIsMV0sWzI3LDI2LCJTXnstYS1jfVxccGhpX3tjLDB9U15hIiwxXSxbMjcsMjUsIlNeey1hLWN9XFxwaGlfezAsY31TXmEiXSxbMjcsMjAsIlNeey1hLWN9XFxwaGlfe2MtYixifVNeYSIsMl1d
	\item For all $x\in R_a$ and $y\in R_b$,
	\[x\cdot y=y\cdot x\cdot\theta_{a,b}.\]
\end{itemize}

\begin{definition}
	Let $\GrCAlg R$ denote the following category:\begin{itemize}
		\item The objects are pairs $(S,\varphi)$ where $S$ is an $A$-graded ring and $\varphi:R\to S$ is an $A$-graded ring homomorphism such that for all $x\in S_a$ and $y\in S_b$, we have
		\[x\cdot y=y\cdot x\cdot\varphi(\theta_{a,b}),\]
		\item The morphisms $(S,\varphi)\to(S',\varphi')$ are $A$-graded ring homomorphisms $f:S\to S'$ such that $f\circ\varphi=\varphi'$.
	\end{itemize}
\end{definition}

\begin{example}
	Let $A=\bZ$, let $R$ be the ring $\bZ$, viewed as a $\bZ$-graded ring concentrated in degree $0$, and let $\theta_{n,m}:=(-1)^{n\cdot m}$ for all $n,m\in\bZ$. Then the category $\GrCAlg R$ is simply the category of graded anticommutative rings, i.e., $\bZ$-graded rings $S$ such that for all homogeneous $x,y\in S$, $x\cdot y=y\cdot x\cdot(-1)^{|x||y|}$.
\end{example}

\begin{lemma}\label{morphism_in_R-GrCAlg_makes_bimodule}
	Let $f:(B,\varphi_B)\to(C,\varphi_C)$ be a morphism in $\GrCAlg R$. Then $(C,\varphi_C)$ is canonically an $A$-graded $B$-bimodule via the action maps $(b,c)\mapsto f(b) c$ and $(c,b)\mapsto cf(b)$ for $b\in B$ and $c\in C$. In particular, every element of $\GrCAlg{R}$ is canonically an $R$-bimodule.
\end{lemma}
\begin{proof}
	It is a standard result that given two rings $R,S$ and a ring homomorphism $\varphi:R\to S$, that $S$ canonically becomes an $R$-bimodule with left action $r\cdot s:=\varphi(r)s$ and right action $s\cdot r:=s\varphi(r)$. Furthermore, if $\varphi$ is an $A$-graded homomorphism of $A$-graded rings, these actions are clearly $A$-graded, so $S$ is an $A$-graded $R$-bimodule, as desired.
\end{proof}

\begin{proposition}\label{B-tensor_product_in_R-GrCAlg}
	Let $(B,\varphi_B)$, $(C,\varphi_C)$, and $(D,\varphi_D)$ be objects in $\GrCAlg{R}$, and suppose we have morphisms $f:(B,\varphi_B)\to(C,\varphi_C)$ and $g:(B,\varphi_B)\to(D,\varphi_D)$. Then their tensor product $C\otimes_BD$ (as $D$-bimodules, see \autoref{morphism_in_R-GrCAlg_makes_bimodule}) canonically inherits the structure of an $A$-graded ring with unit $1_C\otimes 1_D$ via a product
	\[(C\otimes_BD)\times(C\otimes_BD)\to C\otimes_BD\]
	which sends a pair $(x\otimes y,x'\otimes y')$ of homogeneous pure tensors to the element
	\[\varphi_B(\theta_{|x|,|y'|})\cdot(xx'\otimes yy'),\]
	(where here $\cdot$ denotes the left module action of $B$ on $C\otimes_BD$). Furthermore $C\otimes_BD$ becomes an object in $\GrCAlg{R}$ with structure map
	\begin{align*}
		\varphi:R&\to C\otimes_BD \\ 
		r&\mapsto \varphi_B(r)\cdot(1_C\otimes 1_D).
	\end{align*}
\end{proposition}
\begin{proof}[Proof sketch]
	We simply lay out everything that needs to be shown, and we leave it to the reader to fill in the details. First to show that the indicated product is actually well-defined and distributive, by \autoref{tensor_lift_of_A_graded_is_A_graded} it suffices to show that for all homogeneous $c,c',c''\in C$, $d,d',d''\in D$, and $b\in B$ with $|c'|=|c''|$ and $|d'|=|d''|$, that
	\begin{align*}
		\varphi_B(\theta_{|d|,|c'+c''|})\cdot(c(c'+c'')\otimes dd')&=\varphi_B(\theta_{|d|,|c'|})\cdot(cc'\otimes dd')+\varphi_B(\theta_{|d|,|c''|})\cdot (cc''\otimes dd') \\
		\varphi_B(\theta_{|d|,|c'|})\cdot (cc'\otimes d(d'+d''))&=\varphi_B(\theta_{|d|,|c'|})\cdot(cc'\otimes dd')+\varphi_B(\theta_{|d|,|c'|})\cdot(cc'\otimes dd'') \\
		\varphi_B(\theta_{|d|,|c'\cdot b|})\cdot (c(c'\cdot b)\otimes dd')&=\varphi_B(\theta_{|d|,|c'|})\cdot(cc'\otimes d(b\cdot d')) \\
		\varphi_B(\theta_{|d'|,|c|})\cdot((c'+c'')c\otimes d'd)&=\varphi_B(\theta_{|d'|,|c|})\cdot(c'c\otimes d'd)+\varphi_B(\theta_{|d'|,|c|})\cdot(c''c\otimes d'd) \\
		\varphi_B(\theta_{|d'+d''|,|c|})\cdot(c'c\otimes (d'+d'')d)&=\varphi_B(\theta_{|d'|,|c|})\cdot(c'c\otimes d'd)+\varphi_B(\theta_{|d''|,|c|})\cdot(c'c\otimes d''d) \\
		\varphi_B(\theta_{|d'|,|c|})((c'\cdot b)c\otimes d'd)&=\varphi_B(\theta_{|c|,|b\cdot d'|})\cdot (c'c\otimes (b\cdot d')d).
	\end{align*}
	These tell us that for all $x\in C\otimes_BD$ that the maps $C\otimes_BD\to C\otimes_BD$ sending $y\mapsto xy$ and $y\mapsto yx$ are well-defined $A$-graded homomorphisms of abelian groups, so we have a distributive product $(x,y)\mapsto xy$. Then to show that this product makes $C\otimes_BD$ an $A$-graded ring, by \autoref{A_graded_ring}, it suffices to show that for all homogeneous $x,y,z\in C\otimes_BD$ that $(xy)z=x(yz)$ and $x(1_C\otimes 1_D)=x=(1_C\otimes 1_D)x$. By distributivity, it further suffices to consider the case that $x$, $y$, and $z$ are homogeneous \emph{pure tensors} in $C\otimes_BD$, i.e., it suffices to show that for all homogeneous $c,c',c''\in C$ and $d,d',d''\in D$ that
	\[((c\otimes d)(c'\otimes d'))(c''\otimes d'')=(c\otimes d)((c'\otimes d')(c''\otimes d''))\]
	and
	\[(c\otimes d)(1_C\otimes 1_D)=(c\otimes d)=(1_C\otimes 1_D)(c\otimes d).\]
	Thus, we have that the given product endows $C\otimes_BD$ with the structure of an $A$-graded ring, as desired. Now, we wish to show that the given map $\varphi:R\to C\otimes_BD$ is a ring homomorphism. Clearly it sends $1$ to $1_C\otimes 1_D$, and again by linearity, it suffices to show that given \emph{homogeneous} $r,s\in R$ that
	\[\varphi(r+s)=\varphi_B(r+s)(1_C\otimes 1_D)=\varphi_B(r)(1_C\otimes 1_D)+\varphi_B(s)(1_C\otimes 1_D)=\varphi(r)+\varphi(s)\]
	and
	\[\varphi(rs)=\varphi_B(rs)(1_C\otimes 1_D)=(\varphi_B(r)(1_C\otimes 1_D))(\varphi_B(s)(1_C\otimes 1_D))=\varphi(r)\varphi(s).\]
	Finally, we need to show that $C\otimes_BD$ satisfies the graded commutativity condition, for which again by linearity it suffices to show that given homogeneous $c,c'\in C$ and $d,d'\in D$ that
	\[(c\otimes d)(c'\otimes d')=\varphi(\theta_{|c\otimes d|,|c'\otimes d'|})(c'\otimes d')(c\otimes d)=\varphi(\theta_{|c|+|d|,|c'|+|d'|})(c'\otimes d)(c\otimes d).\]
	Showing all of these is relatively straightforward.
\end{proof}

\begin{proposition}\label{R-GrCAlg_has_pushouts_and_binary_coproducts}
	The category $\GrCAlg{R}$ has pushouts, where given $f:(B,\varphi_B)\to (C,\varphi_C)$ and $g:(B,\varphi_B)\to(D,\varphi_D)$, their pushout is the object $(C\otimes_BD,\varphi)$ constructed in \autoref{B-tensor_product_in_R-GrCAlg}, along with the canonical maps $(C,\varphi_C)\to(C\otimes_BD,\varphi)$ sending $c\mapsto c\otimes1_D$ and $(D,\varphi_D)\to(C\otimes_BD,\varphi)$ sending $d\mapsto  1_C\otimes d$. In particular, since $(R,\id_R)$ is initial, $\GrCAlg{R}$ has binary coproducts.
\end{proposition}
\begin{proof}[Proof sketch]
	First, we need to show that the given maps $i_C:(C,\varphi_C)\to(C\otimes_BD,\varphi)$ and $i_D:(D,\varphi_D)\to(C\otimes_BD,\varphi)$ are actually morphisms in $\GrCAlg{R}$, i.e., that they are ring homomorphisms and that the following diagram commutes:
	% https://q.uiver.app/#q=WzAsNCxbMSwxLCJDXFxvdGltZXNfQkQiXSxbMCwxLCJDIl0sWzIsMSwiRCJdLFsxLDAsIlIiXSxbMSwwLCJpX0MiLDJdLFsyLDAsImlfRCJdLFszLDEsIlxcdmFycGhpX0MiLDJdLFszLDIsIlxcdmFycGhpX0QiXSxbMywwLCJcXHZhcnBoaSIsMV1d
	\[\begin{tikzcd}
		& R \\
		C & {C\otimes_BD} & D
		\arrow["{i_C}"', from=2-1, to=2-2]
		\arrow["{i_D}", from=2-3, to=2-2]
		\arrow["{\varphi_C}"', from=1-2, to=2-1]
		\arrow["{\varphi_D}", from=1-2, to=2-3]
		\arrow["\varphi"{description}, from=1-2, to=2-2]
	\end{tikzcd}\]
	Showing this is entirely straightforward. Furthermore, $i_C$ and $i_D$ clearly make the following diagram commute:
	% https://q.uiver.app/#q=WzAsNCxbMCwwLCJCIl0sWzEsMCwiRCJdLFsxLDEsIkNcXG90aW1lc19CRCJdLFswLDEsIkMiXSxbMCwxLCJnIl0sWzEsMiwiaV9EIl0sWzAsMywiZiIsMl0sWzMsMiwiaV9DIiwyXV0=
	\[\begin{tikzcd}
		B & D \\
		C & {C\otimes_BD}
		\arrow["g", from=1-1, to=1-2]
		\arrow["{i_D}", from=1-2, to=2-2]
		\arrow["f"', from=1-1, to=2-1]
		\arrow["{i_C}"', from=2-1, to=2-2]
	\end{tikzcd}\]
	It remains to show that $i_C$ and $i_D$ are the universal such arrows. Suppose we have some object $(E,\varphi_E)$ in $\GrCAlg{R}$ and a commuting diagram
	% https://q.uiver.app/#q=WzAsNCxbMCwwLCJCIl0sWzAsMSwiQyJdLFsxLDAsIkQiXSxbMSwxLCJFIl0sWzAsMSwiZiIsMl0sWzAsMiwiZyJdLFsxLDMsImgiXSxbMiwzLCJrIl1d
	\[\begin{tikzcd}
		B & D \\
		C & E
		\arrow["f"', from=1-1, to=2-1]
		\arrow["g", from=1-1, to=1-2]
		\arrow["h", from=2-1, to=2-2]
		\arrow["k", from=1-2, to=2-2]
	\end{tikzcd}\]
	of morphisms in $\GrCAlg{R}$. Then we'd like to show there exists a unique morphism $\ell:C\otimes_BD\to E$ in $\GrCAlg{R}$ which makes the following diagram commute:
	% https://q.uiver.app/#q=WzAsNSxbMCwwLCJCIl0sWzAsMSwiQyJdLFsxLDAsIkQiXSxbMiwyLCJFIl0sWzEsMSwiQ1xcb3RpbWVzX0JEIl0sWzAsMSwiZiIsMl0sWzAsMiwiZyJdLFsxLDMsImgiLDIseyJjdXJ2ZSI6M31dLFsyLDMsImsiLDAseyJjdXJ2ZSI6LTN9XSxbMSw0LCJpX0MiXSxbMiw0LCJpX0QiLDJdLFs0LDMsIlxcZWxsIiwxLHsic3R5bGUiOnsiYm9keSI6eyJuYW1lIjoiZGFzaGVkIn19fV1d
	\[\begin{tikzcd}
		B & D \\
		C & {C\otimes_BD} \\
		&& E
		\arrow["f"', from=1-1, to=2-1]
		\arrow["g", from=1-1, to=1-2]
		\arrow["h"', curve={height=18pt}, from=2-1, to=3-3]
		\arrow["k", curve={height=-18pt}, from=1-2, to=3-3]
		\arrow["{i_C}", from=2-1, to=2-2]
		\arrow["{i_D}"', from=1-2, to=2-2]
		\arrow["\ell"{description}, dashed, from=2-2, to=3-3]
	\end{tikzcd}\]
	First we show uniqueness. Supposing such an arrow $\ell$ existed, given elements $c\in C$ and $d\in D$, we must have
	\[\ell(c\otimes d)=\ell((c\otimes 1_D)(1_C\otimes d))=\ell(c\otimes 1_D)\ell(1_C\otimes d)=\ell(i_C(c))\ell(i_D(d))=h(c)k(d).\]
	Since pure tensors generate $C\otimes_BD$, we have uniquely determined $\ell$, and clearly it makes the above diagram commute. Now, it remains to show that as defined $\ell$ is a morphism in $\GrCAlg{R}$, i.e., that it is an $A$-graded ring homomorphism and that the following diagram commutes:
	% https://q.uiver.app/#q=WzAsMyxbMSwwLCJSIl0sWzAsMSwiQ1xcb3RpbWVzX0JEIl0sWzIsMSwiRSJdLFswLDEsIlxcdmFycGhpIiwyXSxbMSwyLCJcXGVsbCJdLFswLDIsIlxcdmFycGhpX0UiXV0=
	\[\begin{tikzcd}
		& R \\
		{C\otimes_BD} && E
		\arrow["\varphi"', from=1-2, to=2-1]
		\arrow["\ell", from=2-1, to=2-3]
		\arrow["{\varphi_E}", from=1-2, to=2-3]
	\end{tikzcd}\]
	This is all entirely straightforward to show.
\end{proof}

\begin{definition}
	Let $\cC$ be a category admitting pullbacks. A \emph{groupoid object} in $\cC$ consists of a pair of objects $(M,O)$ together with five morphisms
	\begin{enumerate}
		\item \emph{Source and target}: $s,t:M\to O$,
		\item \emph{Identity}: $e:O\to M$,
		\item \emph{Composition}: $c:M\times_{O}M\to M$,
		\item \emph{Inverse}: $i:M\to M$
	\end{enumerate}
	Explicitly, $M\times_OM$ fits into the following pullback diagram:
	\[\begin{tikzcd}
		{M\times_OM} & M \\
		M & O
		\arrow["{p_2}", from=1-1, to=1-2]
		\arrow["{p_1}"', from=1-1, to=2-1]
		\arrow["s"', from=2-1, to=2-2]
		\arrow["t", from=1-2, to=2-2]
		\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=1-1, to=2-2]
	\end{tikzcd}\]
	so if we're working with sets, the composition map sends a pair $(g,f)$ such that the codomain of $f$ is the domain of $g$ to $g\circ f$.
	These data must satisfy the following diagrams:
	\begin{enumerate}
		\item Composition works correctly:
		\[\begin{tikzcd}
			{M\times_OM} & M & M & O & M & {M\times_OM} & M \\
			M & O && O && M & O
			\arrow["e"', from=1-4, to=1-3]
			\arrow["s"', from=1-3, to=2-4]
			\arrow["e", from=1-4, to=1-5]
			\arrow["t", from=1-5, to=2-4]
			\arrow[Rightarrow, no head, from=1-4, to=2-4]
			\arrow["c", from=1-1, to=1-2]
			\arrow["t", from=1-2, to=2-2]
			\arrow["{p_1}"', from=1-1, to=2-1]
			\arrow["t", from=2-1, to=2-2]
			\arrow["c"', from=1-6, to=2-6]
			\arrow["s", from=2-6, to=2-7]
			\arrow["{p_2}", from=1-6, to=1-7]
			\arrow["s", from=1-7, to=2-7]
		\end{tikzcd}\]
		\item Associativity of composition:
		% https://q.uiver.app/#q=WzAsNSxbMCwwLCJNXFx0aW1lc19PKE1cXHRpbWVzX09NKSJdLFsyLDAsIihNXFx0aW1lc19PTSlcXHRpbWVzX09NIl0sWzAsMSwiTVxcdGltZXNfT00iXSxbMSwxLCJNIl0sWzIsMSwiTVxcdGltZXNfT00iXSxbMCwxLCJcXGNvbmciXSxbMCwyLCJNXFx0aW1lcyBjIiwyXSxbMiwzLCJjIl0sWzEsNCwiY1xcdGltZXMgTSJdLFs0LDMsImMiLDJdXQ==
		\[\begin{tikzcd}
			{M\times_O(M\times_OM)} && {(M\times_OM)\times_OM} \\
			{M\times_OM} & M & {M\times_OM}
			\arrow["\cong", from=1-1, to=1-3]
			\arrow["{M\times c}"', from=1-1, to=2-1]
			\arrow["c", from=2-1, to=2-2]
			\arrow["{c\times M}", from=1-3, to=2-3]
			\arrow["c"', from=2-3, to=2-2]
		\end{tikzcd}\]
		where the top objects and the maps $M\times c$, $c\times M$ are determined like so, where both outer and inner squares in the following diagram are pullback squares:
		\[\begin{tikzcd}
			{M\times_O(M\times_OM)} && {M\times_OM} & {(M\times_OM)\times_OM} && M \\
			& {M\times_OM} & M && {M\times_OM} & M \\
			M & M & O & {M\times_OM} & M & O
			\arrow["{p_2}", from=1-1, to=1-3]
			\arrow["{p_2}", from=1-4, to=1-6]
			\arrow["{p_1}"', from=1-4, to=3-4]
			\arrow["c", from=3-4, to=3-5]
			\arrow["s", from=3-5, to=3-6]
			\arrow["c", from=1-3, to=2-3]
			\arrow["t", from=2-3, to=3-3]
			\arrow["{M\times c}", dashed, from=1-1, to=2-2]
			\arrow["{c\times M}", dashed, from=1-4, to=2-5]
			\arrow[from=2-5, to=3-5]
			\arrow["{p_2}", from=2-2, to=2-3]
			\arrow[Rightarrow, no head, from=1-6, to=2-6]
			\arrow["t", from=2-6, to=3-6]
			\arrow[from=2-5, to=2-6]
			\arrow["{p_1}"', from=1-1, to=3-1]
			\arrow[Rightarrow, no head, from=3-1, to=3-2]
			\arrow["s", from=3-2, to=3-3]
			\arrow["{p_1}"', from=2-2, to=3-2]
		\end{tikzcd}\]
		\item Unitality of composition: Given the maps $(\id_M,e\circ t),(e\circ s,\id_M):M\to M\times_OM$ defined by the universal property of $M\times_OM$:
		\[\begin{tikzcd}
			M &&& M \\
			& {M\times_OM} & M && {M\times_OM} & M \\
			& M & O && M & O
			\arrow["{(\id_M,e\circ s)}", dashed, from=1-1, to=2-2]
			\arrow["{p_2}", from=2-2, to=2-3]
			\arrow["t", from=2-3, to=3-3]
			\arrow["{p_1}"', from=2-2, to=3-2]
			\arrow["s", from=3-2, to=3-3]
			\arrow["{e\circ s}", curve={height=-18pt}, from=1-1, to=2-3]
			\arrow[curve={height=18pt}, Rightarrow, no head, from=1-1, to=3-2]
			\arrow["{(e\circ t,\id_M)}", dashed, from=1-4, to=2-5]
			\arrow["{p_2}", from=2-5, to=2-6]
			\arrow["t", from=2-6, to=3-6]
			\arrow["{p_1}"', from=2-5, to=3-5]
			\arrow["s", from=3-5, to=3-6]
			\arrow[curve={height=-18pt}, Rightarrow, no head, from=1-4, to=2-6]
			\arrow["{e\circ t}"', curve={height=18pt}, from=1-4, to=3-5]
			\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-2, to=3-3]
			\arrow["\lrcorner"{anchor=center, pos=0.125}, draw=none, from=2-5, to=3-6]
		\end{tikzcd}\]
		the following diagram commutes:
		% https://q.uiver.app/#q=WzAsNCxbMCwwLCJNIl0sWzIsMiwiTSJdLFsyLDAsIk1cXHRpbWVzX09NIl0sWzAsMiwiTVxcdGltZXNfT00iXSxbMCwxLCIiLDAseyJsZXZlbCI6Miwic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFswLDIsIihlXFxjaXJjIHQsXFxpZF9NKSJdLFsyLDEsImMiXSxbMCwzLCIoXFxpZF9NLGVcXGNpcmMgcykiLDJdLFszLDEsImMiLDJdXQ==
		\[\begin{tikzcd}
			M && {M\times_OM} \\
			\\
			{M\times_OM} && M
			\arrow[Rightarrow, no head, from=1-1, to=3-3]
			\arrow["{(e\circ t,\id_M)}", from=1-1, to=1-3]
			\arrow["c", from=1-3, to=3-3]
			\arrow["{(\id_M,e\circ s)}"', from=1-1, to=3-1]
			\arrow["c"', from=3-1, to=3-3]
		\end{tikzcd}\]
		\item Inverse: The following diagrams must commute:
		\[\begin{tikzcd}
			& M & M & {M\times_OM} & M && M \\
			M & M & O & M & O & O & M & O
			\arrow["{(\id_M,i)}", from=1-3, to=1-4]
			\arrow["t"', from=1-3, to=2-3]
			\arrow["e", from=2-3, to=2-4]
			\arrow["c", from=1-4, to=2-4]
			\arrow["{(i,\id_M)}"', from=1-5, to=1-4]
			\arrow["s", from=1-5, to=2-5]
			\arrow["e"', from=2-5, to=2-4]
			\arrow["i", from=1-2, to=2-2]
			\arrow["i", from=1-7, to=2-7]
			\arrow["s"', from=1-7, to=2-6]
			\arrow["t"', from=2-7, to=2-6]
			\arrow["t", from=1-7, to=2-8]
			\arrow["s", from=2-7, to=2-8]
			\arrow["i"', from=2-2, to=2-1]
			\arrow[Rightarrow, no head, from=1-2, to=2-1]
		\end{tikzcd}\]
		where the arrows $(\id_M,i)$ and $(i,\id_M)$ are determined by the universal property of $M\times_OM$ like so:
		\[\begin{tikzcd}
			M &&& M \\
			& {M\times_OM} & M && {M\times_OM} & M \\
			& M & O && M & O
			\arrow["{(i,\id_M)}", dashed, from=1-4, to=2-5]
			\arrow["{p_2}", from=2-5, to=2-6]
			\arrow["t", from=2-6, to=3-6]
			\arrow["{p_1}"', from=2-5, to=3-5]
			\arrow["s", from=3-5, to=3-6]
			\arrow[curve={height=-18pt}, Rightarrow, no head, from=1-4, to=2-6]
			\arrow["i"', curve={height=18pt}, from=1-4, to=3-5]
			\arrow["{(\id_M,i)}", dashed, from=1-1, to=2-2]
			\arrow["{p_2}", from=2-2, to=2-3]
			\arrow["t", from=2-3, to=3-3]
			\arrow["{p_1}"', from=2-2, to=3-2]
			\arrow["s", from=3-2, to=3-3]
			\arrow["i", curve={height=-18pt}, from=1-1, to=2-3]
			\arrow[curve={height=18pt}, Rightarrow, no head, from=1-1, to=3-2]
		\end{tikzcd}\]
	\end{enumerate}
\end{definition}

\begin{definition}
	An \emph{$A$-graded commutative Hopf algebroid over $R$} is a co-groupoid object in $\GrCAlg{R}$, i.e., a groupoid object in $\GrCAlg{R}^\op$. Explicitly, an $A$-graded commutative Hopf algebroid over $E$ is a pair $(B,\Gamma)$ of objects in $\GrCAlg{R}$ along with morphisms
	\begin{enumerate}
		\item \emph{left unit}: $\eta_L:B\to\Gamma$,
		\item \emph{right unit}: $\eta_R:B\to\Gamma$,
		\item \emph{comultiplication}: $\Psi:\Gamma\to\Gamma\otimes_B\Gamma$,
		\item \emph{counit}: $\vare:\Gamma\to B$,
		\item \emph{conjugation}: $c:\Gamma\to\Gamma$,
	\end{enumerate}
	where here $\Gamma$ is viewed as a left $B$-module via $\eta_L$ and a right $B$-module via $\eta_R$, in which case $\Gamma\otimes_B\Gamma$ is the usual tensor product of bimodules which fits into the following pushout diagram in $\GrCAlg{R}$ (\autoref{R-GrCAlg_has_pushouts_and_binary_coproducts})
	% https://q.uiver.app/#q=WzAsNCxbMCwwLCJCIl0sWzAsMSwiXFxHYW1tYSJdLFsxLDEsIlxcR2FtbWFcXG90aW1lc19CXFxHYW1tYSJdLFsxLDAsIlxcR2FtbWEiXSxbMCwxLCJcXGV0YV9SIiwyXSxbMSwyLCJnXFxtYXBzdG8gZ1xcb3RpbWVzIDEiLDJdLFswLDMsIlxcZXRhX0wiXSxbMywyLCJnXFxtYXBzdG8gMVxcb3RpbWVzIGciXV0=
	\[\begin{tikzcd}
		B & \Gamma \\
		\Gamma & {\Gamma\otimes_B\Gamma}
		\arrow["{\eta_R}"', from=1-1, to=2-1]
		\arrow["{g\mapsto g\otimes 1}"', from=2-1, to=2-2]
		\arrow["{\eta_L}", from=1-1, to=1-2]
		\arrow["{g\mapsto 1\otimes g}", from=1-2, to=2-2]
	\end{tikzcd}\]
	These data must make the following diagrams commute:
	\begin{enumerate}
		\item % https://q.uiver.app/#q=WzAsMTIsWzEsMSwiXFxHYW1tYVxcb3RpbWVzX0JcXEdhbW1hIl0sWzAsMCwiQiJdLFsxLDAsIlxcR2FtbWEiXSxbMCwxLCJcXEdhbW1hIl0sWzQsMCwiQiJdLFs0LDEsIkIiXSxbNSwwLCJcXEdhbW1hIl0sWzMsMCwiXFxHYW1tYSJdLFs3LDAsIkIiXSxbOCwwLCJcXEdhbW1hIl0sWzgsMSwiXFxHYW1tYVxcb3RpbWVzX0JcXEdhbW1hIl0sWzcsMSwiXFxHYW1tYSJdLFsxLDIsIlxcZXRhX1IiXSxbMSwzLCJcXGV0YV9SIiwyXSxbMywwLCJnXFxtYXBzdG8xXFxvdGltZXMgZyIsMl0sWzIsMCwiXFxQc2kiXSxbNCw1LCIiLDAseyJsZXZlbCI6Miwic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFs0LDYsIlxcZXRhX1IiXSxbNCw3LCJcXGV0YV9MIiwyXSxbNyw1LCJcXHZhcmUiLDJdLFs2LDUsIlxcdmFyZSJdLFs4LDksIlxcZXRhX0wiXSxbOSwxMCwiZ1xcbWFwc3RvIGdcXG90aW1lcyAxIl0sWzgsMTEsIlxcZXRhX0wiLDJdLFsxMSwxMCwiXFxQc2kiLDJdXQ==
		\[\begin{tikzcd}
			B & \Gamma && \Gamma & B & \Gamma && B & \Gamma \\
			\Gamma & {\Gamma\otimes_B\Gamma} &&& B &&& \Gamma & {\Gamma\otimes_B\Gamma}
			\arrow["{\eta_R}", from=1-1, to=1-2]
			\arrow["{\eta_R}"', from=1-1, to=2-1]
			\arrow["{g\mapsto1\otimes g}"', from=2-1, to=2-2]
			\arrow["\Psi", from=1-2, to=2-2]
			\arrow[Rightarrow, no head, from=1-5, to=2-5]
			\arrow["{\eta_R}", from=1-5, to=1-6]
			\arrow["{\eta_L}"', from=1-5, to=1-4]
			\arrow["\vare"', from=1-4, to=2-5]
			\arrow["\vare", from=1-6, to=2-5]
			\arrow["{\eta_L}", from=1-8, to=1-9]
			\arrow["{g\mapsto g\otimes 1}", from=1-9, to=2-9]
			\arrow["{\eta_L}"', from=1-8, to=2-8]
			\arrow["\Psi"', from=2-8, to=2-9]
		\end{tikzcd}\]
		\item % https://q.uiver.app/#q=WzAsNSxbMiwwLCJcXEdhbW1hXFxvdGltZXNfQlxcR2FtbWEiXSxbMSwwLCJcXEdhbW1hIl0sWzAsMCwiXFxHYW1tYVxcb3RpbWVzX0JcXEdhbW1hIl0sWzAsMSwiKFxcR2FtbWFcXG90aW1lc19CXFxHYW1tYSlcXG90aW1lc19CXFxHYW1tYSJdLFsyLDEsIlxcR2FtbWFcXG90aW1lc19CKFxcR2FtbWFcXG90aW1lc19CXFxHYW1tYSkiXSxbMSwyLCJcXFBzaSIsMl0sWzIsMywiXFxQc2lcXG90aW1lc19CXFxHYW1tYSIsMl0sWzAsNCwiXFxHYW1tYVxcb3RpbWVzX0JcXFBzaSJdLFsxLDAsIlxcUHNpIl0sWzMsNCwiXFxjb25nIl1d
		\[\begin{tikzcd}
			{\Gamma\otimes_B\Gamma} & \Gamma & {\Gamma\otimes_B\Gamma} \\
			{(\Gamma\otimes_B\Gamma)\otimes_B\Gamma} && {\Gamma\otimes_B(\Gamma\otimes_B\Gamma)}
			\arrow["\Psi"', from=1-2, to=1-1]
			\arrow["{\Psi\otimes_B\Gamma}"', from=1-1, to=2-1]
			\arrow["{\Gamma\otimes_B\Psi}", from=1-3, to=2-3]
			\arrow["\Psi", from=1-2, to=1-3]
			\arrow["\cong", from=2-1, to=2-3]
		\end{tikzcd}\]
		\item 
		% https://q.uiver.app/#q=WzAsNCxbMCwwLCJcXEdhbW1hIl0sWzIsMCwiXFxHYW1tYVxcb3RpbWVzX0JcXEdhbW1hIl0sWzIsMiwiXFxHYW1tYSJdLFswLDIsIlxcR2FtbWFcXG90aW1lc19CXFxHYW1tYSJdLFswLDEsIlxcUHNpIl0sWzEsMiwiXFxpZF9cXEdhbW1hXFxjZG90IChcXGV0YV9SXFxjaXJjIFxcdmFyZSkiXSxbMCwzLCJcXFBzaSIsMl0sWzMsMiwiKFxcZXRhX0xcXGNpcmNcXHZhcmUpXFxjZG90XFxpZF9cXEdhbW1hIiwyXSxbMCwyLCIiLDEseyJsZXZlbCI6Miwic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dXQ==
		\[\begin{tikzcd}
			\Gamma && {\Gamma\otimes_B\Gamma} \\
			\\
			{\Gamma\otimes_B\Gamma} && \Gamma
			\arrow["\Psi", from=1-1, to=1-3]
			\arrow["{\id_\Gamma\cdot (\eta_R\circ \vare)}", from=1-3, to=3-3]
			\arrow["\Psi"', from=1-1, to=3-1]
			\arrow["{(\eta_L\circ\vare)\cdot\id_\Gamma}"', from=3-1, to=3-3]
			\arrow[Rightarrow, no head, from=1-1, to=3-3]
		\end{tikzcd}\]
		where the right vertical arrow sends $g\otimes g'$ to $g\eta_R(\vare(g'))$ and the bottom horizontal arrow sends $g\otimes g'$ to $\eta_L(\vare(g))g'$.
		\item 
		% https://q.uiver.app/#q=WzAsMTMsWzEsMCwiXFxHYW1tYSJdLFsxLDEsIlxcR2FtbWEiXSxbMCwxLCJcXEdhbW1hIl0sWzIsMCwiQiJdLFszLDAsIlxcR2FtbWEiXSxbNCwwLCJCIl0sWzQsMSwiXFxHYW1tYSJdLFszLDEsIlxcR2FtbWFcXG90aW1lc19CXFxHYW1tYSJdLFsyLDEsIlxcR2FtbWEiXSxbNiwwLCJcXEdhbW1hIl0sWzUsMCwiQiJdLFs3LDAsIkIiXSxbNiwxLCJcXEdhbW1hIl0sWzAsMSwiYyJdLFsxLDIsImMiXSxbMCwyLCIiLDIseyJsZXZlbCI6Miwic3R5bGUiOnsiaGVhZCI6eyJuYW1lIjoibm9uZSJ9fX1dLFs0LDUsIlxcdmFyZSJdLFs1LDYsIlxcZXRhX0wiXSxbNCw3LCJcXFBzaSIsMl0sWzMsOCwiXFxldGFfUiIsMl0sWzcsOCwiY1xcY2RvdFxcaWRfXFxHYW1tYSJdLFs0LDMsIlxcdmFyZSIsMl0sWzcsNiwiXFxpZF9cXEdhbW1hXFxjZG90IGMiLDJdLFsxMCw5LCJcXGV0YV9SIl0sWzExLDksIlxcZXRhX0wiLDJdLFs5LDEyLCJjIl0sWzEwLDEyLCJcXGV0YV9MIiwyXSxbMTEsMTIsIlxcZXRhX1IiXV0=
		\[\begin{tikzcd}
			& \Gamma & B & \Gamma & B & B & \Gamma & B \\
			\Gamma & \Gamma & \Gamma & {\Gamma\otimes_B\Gamma} & \Gamma && \Gamma
			\arrow["c", from=1-2, to=2-2]
			\arrow["c", from=2-2, to=2-1]
			\arrow[Rightarrow, no head, from=1-2, to=2-1]
			\arrow["\vare", from=1-4, to=1-5]
			\arrow["{\eta_L}", from=1-5, to=2-5]
			\arrow["\Psi"', from=1-4, to=2-4]
			\arrow["{\eta_R}"', from=1-3, to=2-3]
			\arrow["{c\cdot\id_\Gamma}", from=2-4, to=2-3]
			\arrow["\vare"', from=1-4, to=1-3]
			\arrow["{\id_\Gamma\cdot c}"', from=2-4, to=2-5]
			\arrow["{\eta_R}", from=1-6, to=1-7]
			\arrow["{\eta_L}"', from=1-8, to=1-7]
			\arrow["c", from=1-7, to=2-7]
			\arrow["{\eta_L}"', from=1-6, to=2-7]
			\arrow["{\eta_R}", from=1-8, to=2-7]
		\end{tikzcd}\]
		where the bottom left arrow in the middle diagram sends $g\otimes g'$ to $c(g)g'$ and the bottom right arrow in the middle diagram sends $g\otimes g'$ to $gc(g')$.
	\end{enumerate}
\end{definition}

\end{document}
